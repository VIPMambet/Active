@model Message

@{
    ViewData["Description"] = "Contact";
}

<main class="main">

    <!-- Contact Section -->
    <section id="contact" class="contact section">
        <div class="container" data-aos="fade">

            <div class="row gy-5 gx-lg-5">

                <div class="col-lg-4">

                    <div class="info">
                        <h3>Get in touch</h3>
                        <p>Et id eius voluptates atque nihil voluptatem enim in tempore minima sit ad mollitia commodi minus.</p>

                        <div class="info-item d-flex">
                            <i class="bi bi-geo-alt flex-shrink-0"></i>
                            <div>
                                <h4>Location:</h4>
                                <p>A108 Adam Street, New York, NY 535022</p>
                            </div>
                        </div><!-- End Info Item -->

                        <div class="info-item d-flex">
                            <i class="bi bi-envelope flex-shrink-0"></i>
                            <div>
                                <h4>Email:</h4>
                                <p>info@example.com</p>
                            </div>
                        </div><!-- End Info Item -->

                        <div class="info-item d-flex">
                            <i class="bi bi-phone flex-shrink-0"></i>
                            <div>
                                <h4>Call:</h4>
                                <p>+1 5589 55488 55</p>
                            </div>
                        </div><!-- End Info Item -->

                    </div>

                </div>

                <div class="col-lg-8">
                    <form asp-action="Contact" asp-controller="Home" method="post" role="form" class="" onsubmit="beforeSubmit()">
                        <div class="row">
                            <div class="col-md-6 form-group">
                                <input type="text" asp-for="name" class="form-control" id="name" placeholder="Your Name" required="">
                            </div>
                            <div class="col-md-6 form-group mt-3 mt-md-0">
                                <input type="text" class="form-control" asp-for="email" id="email" placeholder="Your Email" required="">
                            </div>
                        </div>
                        <div class="form-group mt-3">
                            <input type="text" class="form-control" asp-for="subject" id="subject" placeholder="Subject" required="">
                        </div>
                        <div class="form-group mt-3">
                            <textarea class="form-control" asp-for="message" placeholder="Message" required=""></textarea>
                        </div>

                        <!-- Скрытое поле для времени -->
                        <input type="hidden" name="ElapsedTime" id="ElapsedTime" />

                        <div class="my-3" asp-validation-summary="All"></div>
                        <div class="text-center"><button type="submit">Send Message</button></div>
                    </form><!-- End Contact Form -->
                    @if (ViewBag.Elapsed != null)
                    {
                        <div class="alert alert-info mt-3">
                            Вы заполнили форму за <strong>@ViewBag.Elapsed</strong> секунд.
                        </div>
                    }

                </div>

            </div>

        </div>
    </section><!-- /Contact Section -->

</main>

<script>
    let startTime;

    window.onload = () => {
        startTime = new Date();
    };

    function beforeSubmit() {
        const endTime = new Date();
        const elapsedSeconds = ((endTime - startTime) / 1000).toFixed(2);
        document.getElementById("ElapsedTime").value = elapsedSeconds;
    }
</script>
